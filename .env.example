# ═══════════════════════════════════════════════════════════════
# Price Comparison System - Environment Variables
# ═══════════════════════════════════════════════════════════════
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control!
# ═══════════════════════════════════════════════════════════════

# ┌─────────────────────────────────────────────────────────────┐
# │ Application Configuration                                   │
# └─────────────────────────────────────────────────────────────┘
NODE_ENV=development
APP_NAME=price-comparison-system
APP_VERSION=1.0.0

# ┌─────────────────────────────────────────────────────────────┐
# │ Service Ports                                               │
# └─────────────────────────────────────────────────────────────┘
# Frontend
WEB_PORT=3000

# API Gateway
API_PORT=4000
API_HOST=0.0.0.0

# Microservices
SCRAPER_SERVICE_PORT=5000
NORMALIZER_SERVICE_PORT=5001
SEARCH_SERVICE_PORT=5002
RECOMMENDATION_SERVICE_PORT=5003

# ┌─────────────────────────────────────────────────────────────┐
# │ MongoDB Configuration                                       │
# └─────────────────────────────────────────────────────────────┘
MONGODB_URI=mongodb://localhost:27017/price-comparison
MONGODB_HOST=localhost
MONGODB_PORT=27017
MONGODB_DATABASE=price-comparison
MONGODB_USERNAME=admin
MONGODB_PASSWORD=your_secure_password_here
MONGODB_AUTH_SOURCE=admin

# MongoDB Connection Options
MONGODB_MAX_POOL_SIZE=10
MONGODB_MIN_POOL_SIZE=2
MONGODB_SOCKET_TIMEOUT=45000
MONGODB_SERVER_SELECTION_TIMEOUT=5000

# ┌─────────────────────────────────────────────────────────────┐
# │ Redis Configuration                                         │
# └─────────────────────────────────────────────────────────────┘
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here
REDIS_DB=0
REDIS_URL=redis://:your_redis_password_here@localhost:6379/0

# Redis Cache Settings
REDIS_CACHE_TTL=3600
REDIS_SEARCH_CACHE_TTL=300

# ┌─────────────────────────────────────────────────────────────┐
# │ Meilisearch Configuration (Keyword Search Engine)           │
# └─────────────────────────────────────────────────────────────┘
MEILISEARCH_HOST=http://localhost:7700
MEILISEARCH_PORT=7700
MEILISEARCH_MASTER_KEY=your_meilisearch_master_key_here
MEILISEARCH_API_KEY=your_meilisearch_api_key_here

# Meilisearch Index Names
MEILISEARCH_PRODUCTS_INDEX=products
MEILISEARCH_SHOPS_INDEX=shops

# ┌─────────────────────────────────────────────────────────────┐
# │ Qdrant Configuration (Vector Search Engine)                │
# └─────────────────────────────────────────────────────────────┘
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_GRPC_PORT=6334
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=your_qdrant_api_key_here

# Qdrant Collection Names
QDRANT_PRODUCTS_COLLECTION=products
QDRANT_VECTOR_SIZE=384

# ┌─────────────────────────────────────────────────────────────┐
# │ RabbitMQ Configuration (Message Queue)                     │
# └─────────────────────────────────────────────────────────────┘
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672
RABBITMQ_USERNAME=admin
RABBITMQ_PASSWORD=your_rabbitmq_password_here
RABBITMQ_URL=amqp://admin:your_rabbitmq_password_here@localhost:5672
RABBITMQ_VHOST=/

# RabbitMQ Queue Names
RABBITMQ_SCRAPING_QUEUE=scraping_tasks
RABBITMQ_NORMALIZATION_QUEUE=normalization_tasks
RABBITMQ_INDEXING_QUEUE=indexing_tasks

# ┌─────────────────────────────────────────────────────────────┐
# │ Celery Configuration (Python Task Queue)                   │
# └─────────────────────────────────────────────────────────────┘
CELERY_BROKER_URL=amqp://admin:your_rabbitmq_password_here@localhost:5672
CELERY_RESULT_BACKEND=redis://:your_redis_password_here@localhost:6379/1
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true

# ┌─────────────────────────────────────────────────────────────┐
# │ Feature Flags                                               │
# └─────────────────────────────────────────────────────────────┘
# Core Features
FEATURE_LOCAL_SHOPPING=true
FEATURE_GLOBAL_SHOPPING=false
FEATURE_SMART_RECOMMENDATIONS=false
FEATURE_PRICE_ALERTS=false
FEATURE_USER_ACCOUNTS=false

# Search Features
FEATURE_VECTOR_SEARCH=false
FEATURE_HYBRID_SEARCH=false
FEATURE_AI_SEARCH=false

# Advanced Features
FEATURE_PRICE_PREDICTION=false
FEATURE_AFFILIATE_LINKS=false
FEATURE_COMPARISON_TABLES=true
FEATURE_PRICE_HISTORY=false

# ┌─────────────────────────────────────────────────────────────┐
# │ External API Keys                                           │
# └─────────────────────────────────────────────────────────────┘
# Currency Exchange API
EXCHANGE_RATE_API_KEY=your_exchange_rate_api_key_here
EXCHANGE_RATE_API_URL=https://api.exchangerate-api.com/v4/latest

# Shipping Calculator
EASYPOST_API_KEY=your_easypost_api_key_here

# Tax & Duties Calculator
DUTY_CALCULATOR_API_KEY=your_duty_calculator_api_key_here

# Captcha Solving
TWOCAPTCHA_API_KEY=your_2captcha_api_key_here
ANTICAPTCHA_API_KEY=your_anticaptcha_api_key_here

# Proxy Services
BRIGHTDATA_USERNAME=your_brightdata_username_here
BRIGHTDATA_PASSWORD=your_brightdata_password_here
WEBSHARE_API_KEY=your_webshare_api_key_here
SMARTPROXY_USERNAME=your_smartproxy_username_here
SMARTPROXY_PASSWORD=your_smartproxy_password_here

# ┌─────────────────────────────────────────────────────────────┐
# │ Analytics & Monitoring                                      │
# └─────────────────────────────────────────────────────────────┘
# Sentry (Error Tracking)
SENTRY_DSN=your_sentry_dsn_here
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=1.0

# Google Analytics
GA_TRACKING_ID=your_ga_tracking_id_here

# Mixpanel
MIXPANEL_TOKEN=your_mixpanel_token_here

# ┌─────────────────────────────────────────────────────────────┐
# │ Email Service (Optional)                                    │
# └─────────────────────────────────────────────────────────────┘
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_email_password_here
SMTP_FROM_EMAIL=noreply@price-comparison.com
SMTP_FROM_NAME=Price Comparison System

# ┌─────────────────────────────────────────────────────────────┐
# │ JWT & Authentication                                        │
# └─────────────────────────────────────────────────────────────┘
JWT_SECRET=your_very_long_and_secure_jwt_secret_here
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=your_very_long_and_secure_refresh_secret_here
JWT_REFRESH_EXPIRES_IN=30d

# ┌─────────────────────────────────────────────────────────────┐
# │ CORS Configuration                                          │
# └─────────────────────────────────────────────────────────────┘
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# ┌─────────────────────────────────────────────────────────────┐
# │ Rate Limiting                                               │
# └─────────────────────────────────────────────────────────────┘
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ┌─────────────────────────────────────────────────────────────┐
# │ Scraping Configuration                                      │
# └─────────────────────────────────────────────────────────────┘
# General Settings
SCRAPING_ENABLED=true
SCRAPING_PARALLEL_JOBS=5
SCRAPING_RETRY_ATTEMPTS=3
SCRAPING_TIMEOUT=30000

# Anti-Detection
USE_PROXIES=false
USE_STEALTH_MODE=true
ROTATE_USER_AGENTS=true
RANDOM_DELAYS=true

# Playwright Settings
PLAYWRIGHT_HEADLESS=true
PLAYWRIGHT_TIMEOUT=30000

# ┌─────────────────────────────────────────────────────────────┐
# │ Logging Configuration                                       │
# └─────────────────────────────────────────────────────────────┘
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs
LOG_CONSOLE_ENABLED=true

# ┌─────────────────────────────────────────────────────────────┐
# │ Regional Settings                                           │
# └─────────────────────────────────────────────────────────────┘
DEFAULT_COUNTRY=IL
DEFAULT_CURRENCY=ILS
DEFAULT_LANGUAGE=he
SUPPORTED_COUNTRIES=IL,US,UK,DE
SUPPORTED_CURRENCIES=ILS,USD,GBP,EUR

# ┌─────────────────────────────────────────────────────────────┐
# │ Shop Configuration                                          │
# └─────────────────────────────────────────────────────────────┘
SHOPS_CONFIG_PATH=./configs/shops
REGIONS_CONFIG_PATH=./configs/regions

# ┌─────────────────────────────────────────────────────────────┐
# │ Development & Testing                                       │
# └─────────────────────────────────────────────────────────────┘
# Mock Data
USE_MOCK_DATA=false
MOCK_SCRAPING=false

# Debug
DEBUG=false
VERBOSE_LOGGING=false

# Testing
TEST_DATABASE=price-comparison-test
TEST_REDIS_DB=15

# ┌─────────────────────────────────────────────────────────────┐
# │ Docker Development                                          │
# └─────────────────────────────────────────────────────────────┘
COMPOSE_PROJECT_NAME=price-comparison
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1

# ═══════════════════════════════════════════════════════════════
# END OF CONFIGURATION
# ═══════════════════════════════════════════════════════════════
